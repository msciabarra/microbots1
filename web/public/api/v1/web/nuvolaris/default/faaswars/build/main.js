var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,n,o){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function l(t,e){t.appendChild(e)}function a(t,e,n){t.insertBefore(e,n||null)}function u(t){t.parentNode.removeChild(t)}function c(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function p(){return h(" ")}function f(){return h("")}function m(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function g(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function y(t,e){t.value=null==e?"":e}function w(t,e,n,o){t.style.setProperty(e,n,o?"important":"")}function v(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}}function x(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}let _;function k(t){_=t}function q(){if(!_)throw new Error("Function called outside component initialization");return _}const $=[],C=[],S=[],E=[],O=Promise.resolve();let z=!1;function M(t){S.push(t)}let I=!1;const R=new Set;function T(){if(!I){I=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];k(e),A(e.$$)}for(k(null),$.length=0;C.length;)C.pop()();for(let t=0;t<S.length;t+=1){const e=S[t];R.has(e)||(R.add(e),e())}S.length=0}while($.length);for(;E.length;)E.pop()();z=!1,I=!1,R.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const F=new Set;let N;function j(t,e){t&&t.i&&(F.delete(t),t.i(e))}function P(t,e,n,o){if(t&&t.o){if(F.has(t))return;F.add(t),N.c.push((()=>{F.delete(t),o&&(n&&t.d(1),o())})),t.o(e)}}function L(t){t&&t.c()}function B(t,n,r){const{fragment:s,on_mount:l,on_destroy:a,after_update:u}=t.$$;s&&s.m(n,r),M((()=>{const n=l.map(e).filter(i);a?a.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(M)}function J(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function G(t,e){-1===t.$$.dirty[0]&&($.push(t),z||(z=!0,O.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Y(e,i,r,s,l,a,c=[-1]){const d=_;k(e);const h=i.props||{},p=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let f=!1;if(p.ctx=r?r(e,h,((t,n,...o)=>{const i=o.length?o[0]:n;return p.ctx&&l(p.ctx[t],p.ctx[t]=i)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](i),f&&G(e,t)),n})):[],p.update(),f=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);p.fragment&&p.fragment.l(t),t.forEach(u)}else p.fragment&&p.fragment.c();i.intro&&j(e.$$.fragment),B(e,i.target,i.anchor),T()}k(d)}class H{$destroy(){J(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function V(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}V('/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n');V("*,*:after,*:before{box-sizing:inherit}html{box-sizing:border-box;font-size:62.5%}body{color:#606c76;font-family:'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;font-size:1.6em;font-weight:300;letter-spacing:.01em;line-height:1.6}blockquote{border-left:0.3rem solid #d1d1d1;margin-left:0;margin-right:0;padding:1rem 1.5rem}blockquote *:last-child{margin-bottom:0}.button,button,input[type='button'],input[type='reset'],input[type='submit']{background-color:#9b4dca;border:0.1rem solid #9b4dca;border-radius:.4rem;color:#fff;cursor:pointer;display:inline-block;font-size:1.1rem;font-weight:700;height:3.8rem;letter-spacing:.1rem;line-height:3.8rem;padding:0 3.0rem;text-align:center;text-decoration:none;text-transform:uppercase;white-space:nowrap}.button:focus,.button:hover,button:focus,button:hover,input[type='button']:focus,input[type='button']:hover,input[type='reset']:focus,input[type='reset']:hover,input[type='submit']:focus,input[type='submit']:hover{background-color:#606c76;border-color:#606c76;color:#fff;outline:0}.button[disabled],button[disabled],input[type='button'][disabled],input[type='reset'][disabled],input[type='submit'][disabled]{cursor:default;opacity:.5}.button[disabled]:focus,.button[disabled]:hover,button[disabled]:focus,button[disabled]:hover,input[type='button'][disabled]:focus,input[type='button'][disabled]:hover,input[type='reset'][disabled]:focus,input[type='reset'][disabled]:hover,input[type='submit'][disabled]:focus,input[type='submit'][disabled]:hover{background-color:#9b4dca;border-color:#9b4dca}.button.button-outline,button.button-outline,input[type='button'].button-outline,input[type='reset'].button-outline,input[type='submit'].button-outline{background-color:transparent;color:#9b4dca}.button.button-outline:focus,.button.button-outline:hover,button.button-outline:focus,button.button-outline:hover,input[type='button'].button-outline:focus,input[type='button'].button-outline:hover,input[type='reset'].button-outline:focus,input[type='reset'].button-outline:hover,input[type='submit'].button-outline:focus,input[type='submit'].button-outline:hover{background-color:transparent;border-color:#606c76;color:#606c76}.button.button-outline[disabled]:focus,.button.button-outline[disabled]:hover,button.button-outline[disabled]:focus,button.button-outline[disabled]:hover,input[type='button'].button-outline[disabled]:focus,input[type='button'].button-outline[disabled]:hover,input[type='reset'].button-outline[disabled]:focus,input[type='reset'].button-outline[disabled]:hover,input[type='submit'].button-outline[disabled]:focus,input[type='submit'].button-outline[disabled]:hover{border-color:inherit;color:#9b4dca}.button.button-clear,button.button-clear,input[type='button'].button-clear,input[type='reset'].button-clear,input[type='submit'].button-clear{background-color:transparent;border-color:transparent;color:#9b4dca}.button.button-clear:focus,.button.button-clear:hover,button.button-clear:focus,button.button-clear:hover,input[type='button'].button-clear:focus,input[type='button'].button-clear:hover,input[type='reset'].button-clear:focus,input[type='reset'].button-clear:hover,input[type='submit'].button-clear:focus,input[type='submit'].button-clear:hover{background-color:transparent;border-color:transparent;color:#606c76}.button.button-clear[disabled]:focus,.button.button-clear[disabled]:hover,button.button-clear[disabled]:focus,button.button-clear[disabled]:hover,input[type='button'].button-clear[disabled]:focus,input[type='button'].button-clear[disabled]:hover,input[type='reset'].button-clear[disabled]:focus,input[type='reset'].button-clear[disabled]:hover,input[type='submit'].button-clear[disabled]:focus,input[type='submit'].button-clear[disabled]:hover{color:#9b4dca}code{background:#f4f5f6;border-radius:.4rem;font-size:86%;margin:0 .2rem;padding:.2rem .5rem;white-space:nowrap}pre{background:#f4f5f6;border-left:0.3rem solid #9b4dca;overflow-y:hidden}pre>code{border-radius:0;display:block;padding:1rem 1.5rem;white-space:pre}hr{border:0;border-top:0.1rem solid #f4f5f6;margin:3.0rem 0}input[type='color'],input[type='date'],input[type='datetime'],input[type='datetime-local'],input[type='email'],input[type='month'],input[type='number'],input[type='password'],input[type='search'],input[type='tel'],input[type='text'],input[type='url'],input[type='week'],input:not([type]),textarea,select{-webkit-appearance:none;background-color:transparent;border:0.1rem solid #d1d1d1;border-radius:.4rem;box-shadow:none;box-sizing:inherit;height:3.8rem;padding:.6rem 1.0rem .7rem;width:100%}input[type='color']:focus,input[type='date']:focus,input[type='datetime']:focus,input[type='datetime-local']:focus,input[type='email']:focus,input[type='month']:focus,input[type='number']:focus,input[type='password']:focus,input[type='search']:focus,input[type='tel']:focus,input[type='text']:focus,input[type='url']:focus,input[type='week']:focus,input:not([type]):focus,textarea:focus,select:focus{border-color:#9b4dca;outline:0}select{background:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 30 8\" width=\"30\"><path fill=\"%23d1d1d1\" d=\"M0,0l6,8l6-8\"/></svg>') center right no-repeat;padding-right:3.0rem}select:focus{background-image:url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 30 8\" width=\"30\"><path fill=\"%239b4dca\" d=\"M0,0l6,8l6-8\"/></svg>')}select[multiple]{background:none;height:auto}textarea{min-height:6.5rem}label,legend{display:block;font-size:1.6rem;font-weight:700;margin-bottom:.5rem}fieldset{border-width:0;padding:0}input[type='checkbox'],input[type='radio']{display:inline}.label-inline{display:inline-block;font-weight:normal;margin-left:.5rem}.container{margin:0 auto;max-width:112.0rem;padding:0 2.0rem;position:relative;width:100%}.row{display:flex;flex-direction:column;padding:0;width:100%}.row.row-no-padding{padding:0}.row.row-no-padding>.column{padding:0}.row.row-wrap{flex-wrap:wrap}.row.row-top{align-items:flex-start}.row.row-bottom{align-items:flex-end}.row.row-center{align-items:center}.row.row-stretch{align-items:stretch}.row.row-baseline{align-items:baseline}.row .column{display:block;flex:1 1 auto;margin-left:0;max-width:100%;width:100%}.row .column.column-offset-10{margin-left:10%}.row .column.column-offset-20{margin-left:20%}.row .column.column-offset-25{margin-left:25%}.row .column.column-offset-33,.row .column.column-offset-34{margin-left:33.3333%}.row .column.column-offset-40{margin-left:40%}.row .column.column-offset-50{margin-left:50%}.row .column.column-offset-60{margin-left:60%}.row .column.column-offset-66,.row .column.column-offset-67{margin-left:66.6666%}.row .column.column-offset-75{margin-left:75%}.row .column.column-offset-80{margin-left:80%}.row .column.column-offset-90{margin-left:90%}.row .column.column-10{flex:0 0 10%;max-width:10%}.row .column.column-20{flex:0 0 20%;max-width:20%}.row .column.column-25{flex:0 0 25%;max-width:25%}.row .column.column-33,.row .column.column-34{flex:0 0 33.3333%;max-width:33.3333%}.row .column.column-40{flex:0 0 40%;max-width:40%}.row .column.column-50{flex:0 0 50%;max-width:50%}.row .column.column-60{flex:0 0 60%;max-width:60%}.row .column.column-66,.row .column.column-67{flex:0 0 66.6666%;max-width:66.6666%}.row .column.column-75{flex:0 0 75%;max-width:75%}.row .column.column-80{flex:0 0 80%;max-width:80%}.row .column.column-90{flex:0 0 90%;max-width:90%}.row .column .column-top{align-self:flex-start}.row .column .column-bottom{align-self:flex-end}.row .column .column-center{align-self:center}@media (min-width: 40rem){.row{flex-direction:row;margin-left:-1.0rem;width:calc(100% + 2.0rem)}.row .column{margin-bottom:inherit;padding:0 1.0rem}}a{color:#9b4dca;text-decoration:none}a:focus,a:hover{color:#606c76}dl,ol,ul{list-style:none;margin-top:0;padding-left:0}dl dl,dl ol,dl ul,ol dl,ol ol,ol ul,ul dl,ul ol,ul ul{font-size:90%;margin:1.5rem 0 1.5rem 3.0rem}ol{list-style:decimal inside}ul{list-style:circle inside}.button,button,dd,dt,li{margin-bottom:1.0rem}fieldset,input,select,textarea{margin-bottom:1.5rem}blockquote,dl,figure,form,ol,p,pre,table,ul{margin-bottom:2.5rem}table{border-spacing:0;display:block;overflow-x:auto;text-align:left;width:100%}td,th{border-bottom:0.1rem solid #e1e1e1;padding:1.2rem 1.5rem}td:first-child,th:first-child{padding-left:0}td:last-child,th:last-child{padding-right:0}@media (min-width: 40rem){table{display:table;overflow-x:initial}}b,strong{font-weight:bold}p{margin-top:0}h1,h2,h3,h4,h5,h6{font-weight:300;letter-spacing:-.1rem;margin-bottom:2.0rem;margin-top:0}h1{font-size:4.6rem;line-height:1.2}h2{font-size:3.6rem;line-height:1.25}h3{font-size:2.8rem;line-height:1.3}h4{font-size:2.2rem;letter-spacing:-.08rem;line-height:1.35}h5{font-size:1.8rem;letter-spacing:-.05rem;line-height:1.5}h6{font-size:1.6rem;letter-spacing:0;line-height:1.4}img{max-width:100%}.clearfix:after{clear:both;content:' ';display:table}.float-left{float:left}.float-right{float:right}");V('button {\n  background-color: #194577;\n  border: 0.1rem solid #0c78c3;\n  color: #eadb0b;\n}\n\n.flag {\n  padding: 2px;\n}\n\n.flag-border {\n  padding: 1px;\n  border: 1px solid red;\n}\n\n@font-face {\n  font-family: "Star Jedi Outline";\n  src: url("/api/v1/web/nuvolaris/default/faaswars/font/StarJediOutline.woff2") format("woff2"),\n    url("/api/v1/web/nuvolaris/default/faaswars/font/StarJediOutline.woff") format("woff");\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\n@font-face {\n  font-family: "Noto Sans";\n  src: url("/api/v1/web/nuvolaris/default/faaswars/font/NotoSans.woff2") format("woff2"),\n    url("/api/v1/web/nuvolaris/default/faaswars/font/NotoSans.woff") format("woff");\n  font-weight: normal;\n  font-style: normal;\n  font-display: swap;\n}\n\nh1 {\n  font-family: "Star Jedi Outline";\n  color: darkorange;\n}\n\nh2,\nh3,\nh4 {\n  font-family: "Noto Sans";\n  color: darkorange;\n}\n\na {\n  color:orangered;\n}\n\ncanvas {\n  padding: 0;\n  margin: auto;\n  display: block;\n  width: 100%;\n}\n\n@media screen and (min-width: 600px) {\n  .container {\n    padding: 0 2px;\n  }\n\n  .row .column.column-offset {\n    margin-left: 0%;\n  }\n\n  .center {\n    margin: 0;\n  }\n\n  div.center {\n    margin-left: 0;\n  }\n\n  canvas {\n    margin: 0;\n  }\n  h1,\n  a,\n  h3,\n  h4 {\n    text-align: left;\n    margin-left: 0;\n    margin-right: 0;\n  }\n  .row .column.column-left {\n    flex: 0 0 25%;\n    max-width: 50%;\n  }\n  .row .column.column-right {\n    flex: 0 0 25%;\n    max-width: 50%;\n  }\n  .row .column.column-center {\n    flex: 0 0 50%;\n    max-width: 50%;\n  }\n}\n\n@media screen and (min-width: 800px) {\n  .row .column.column-offset {\n    margin-left: 25%;\n  }\n  .center {\n    margin: auto;\n  }\n  div.center {\n    margin-left: auto;\n    margin-right: auto;\n  }\n  canvas {\n    padding: 0;\n    margin: auto;\n    display: block;\n    width: 500px;\n    height: 500px;\n  }\n  h1,\n  a,\n  h3,\n  h4 {\n    text-align: center;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  .row .column.column-left {\n    flex: 0 0 25%;\n    max-width: 25%;\n  }\n\n  .row .column.column-right {\n    flex: 0 0 25%;\n    max-width: 25%;\n  }\n\n  .row .column.column-center {\n    flex: 0 0 50%;\n    max-width: 50%;\n  }\n}\n');class W{constructor(t,e,n){this.ext2kind={go:"go:1.17",js:"nodejs:14",py:"python:3"},this.base=t+"/api/v1/namespaces/_/",this.auth="Basic "+btoa(e),this.namespace=n}async authGet(t){let e={method:"GET",headers:{Authorization:this.auth}};return await fetch(t,e).then((t=>t.ok?t.text():"ERROR")).catch((t=>"ERROR"))}async call(t,e){let n=t.split(":"),o=this.base+n.pop(),i={method:0==n.length?"GET":n[0],headers:{"Content-Type":"application/json",Authorization:this.auth}};return e&&(i.body=JSON.stringify(e)),await fetch(o,i).then((t=>t.ok?t.json():{error:t.statusText,code:t.status})).catch((t=>({error:t,code:"999"})))}async list(){let t=[],e=await this.call("actions");for(let n of e)for(let e of n.annotations)"nimbot"==e.key&&t.push(n.name+"."+e.value);return t}async load(t){let e=t.split(".")[0],n=await this.call("actions/"+e+"?code=true");return"error"in n?n.error:n.exec.code}async del(t){let e=t.split(".")[0];return await this.call("DELETE:actions/"+e)}async save(t,e,n){let[o,i]=t.split("."),r="PUT:actions/"+o+(n?"?overwrite=true":"");return await this.call(r,{namespace:"_",name:o,publish:!0,exec:{kind:this.ext2kind[i],binary:!1,code:e},annotations:[{key:"nimbot",value:i},{key:"web-export",value:!0}]})}}const D="https://apigcp.nimbella.io/api/v1/web/";function U(t){return t*(Math.PI/180)}function X(t,e,n,o){return Math.sqrt(Math.pow(t-n,2)+Math.pow(e-o,2))}function K(t,e,n,o,i,r){return n+i>t&&t>n&&o+r>e&&e>o}let Q=new class{constructor(){this.requestOn=!1,this.actionOn=!1,this.eventOn=!1,this.statesOn=!1,this.stateInterval=1,this.hitOn=!1}state(t,e,n){this.statesOn&&t%this.stateInterval==0&&console.log(t,e,n)}hit(t,e){this.hitOn&&console.log("*** hit",t,e)}request(...t){this.requestOn&&console.log("request:",...t)}action(...t){this.actionOn&&console.log("action:",...t)}event(...t){this.eventOn&&console.log("event:",...t)}};class Z{constructor(t,e,n,o,i,r){this.data={},this.id=0,this.hp=0,this.hp_total=0,this.tank_angle=0,this.turret_angle=0,this.radar_angle=0,this.event_counter=0,this.events=[],this.bullets=[],this.status={wall_collide:!1,is_hit:!1},this.is_hit=!1,this.is_yell=!1,this.is_spot=!1,this.yell_ts=0,this.yell_msg="",this.bullet_ts=0,this.enemy_spot={},this.action_to_collide=0,this.waiting_for_response=!1,this.just_spotted=!1,this.enemies=[],this.inspect=function(){},this.actions=["move_forwards","move_backwards","move_opposide","turn_left","turn_right","turn_turret_left","turn_turret_right","yell","shoot","data"],this.x=t,this.y=e,this.url=n,this.completed_request=i,this.hit_robot=r,this.name=n.split("/").pop(),this.hp_total=5+o,this.hp=this.hp_total}init(t,e,n){this.enemies=t,this.turret_angle=n,this.tank_angle=e}move(t){Q.action(this.id,"move",t);let e=this.x+t*Math.cos(U(this.tank_angle)),n=this.y+t*Math.sin(U(this.tank_angle));K(e,n,15,15,Z.battlefield_width-15,Z.battlefield_height-15)?(this.status.wall_collide=!1,this.x=e,this.y=n):this.status.wall_collide=!0}turn(t){Q.action(this.id,"turn",t),this.tank_angle+=t,this.tank_angle=this.tank_angle%360,this.tank_angle<0&&(this.tank_angle+=360)}turn_turret(t){Q.action(this.id,"turn_turret",t),this.turret_angle+=t,this.turret_angle=this.turret_angle%360,this.turret_angle<0&&(this.turret_angle+=360)}yell(t){Q.action(this.id,"yell",t),this.is_yell=!0,this.yell_ts=0,this.yell_msg=t}async send(t){let e=JSON.stringify(t,null,2);return++this.event_counter,this.inspect(this.id,this.event_counter,e,void 0),Q.event(this.id,JSON.stringify(t)),this.waiting_for_response=!0,fetch(this.url,{method:"POST",headers:{"Content-Type":"application/json"},body:e}).then((t=>{if(t.ok)return t.text();throw"Broken Robot Controller"})).then((t=>{this.waiting_for_response=!1;let e=[];for(let n of this.decode(t))n.progress=0,Q.request(this.id,n),e.push(n);return this.events=e,this.completed_request("Round completed.",!0),!0})).catch((t=>(this.waiting_for_response=!1,console.log(t),this.completed_request("ERROR: "+t,!1),!1)))}async send_event(t){return this.send({event:t,energy:this.hp,x:Math.floor(this.me.x),y:Math.floor(this.me.y),angle:Math.floor(this.me.angle),tank_angle:Math.floor(this.me.tank_angle),turret_angle:Math.floor(this.me.turret_angle),enemy_spot:this.enemy_spot,data:this.data})}check_enemy_spot(){this.enemy_spot={};let t=!1;for(let e of this.enemies){let n=(this.tank_angle+this.turret_angle)%360;n=n<0?360+n:n;let o=U(n),i=Math.atan2(e.y-this.y,e.x-this.x),r=X(this.x,this.y,e.x,e.y),s=Math.atan2(5,r);o>Math.PI&&(o-=2*Math.PI),o<-Math.PI&&(o+=2*Math.PI);let l=i+s;if(o>=i-s&&o<=l){let n=i*(180/Math.PI);n<0&&(n=360+n),this.enemy_spot={id:e.id,x:Math.floor(e.x),y:Math.floor(e.y),angle:Math.floor(n),distance:Math.floor(r),energy:e.hp},t=!0}}return!!t}update_bullet(){let t=-1;for(let e of this.bullets){if(t++,e.x+=3*Math.cos(U(e.direction)),e.y+=3*Math.sin(U(e.direction)),!K(e.x,e.y,2,2,Z.battlefield_width-2,Z.battlefield_height-2)){e=null,this.bullets.splice(t,1);continue}let n=-1;for(let t of this.enemies){if(n++,X(e.x,e.y,t.x,t.y)<20){t.hp-=1,t.is_hit=!0,this.hit_robot(t.x,t.y),e=null,this.bullets.splice(n,1),Q.hit(t.id,t.state());break}}}}state(){if(this.me){let t=this.me;return`${t.id}: e=${Math.floor(t.hp)} x=${Math.floor(t.x)} y=${Math.floor(t.y)} angle=${Math.floor(t.angle)} tank=${Math.floor(t.tank_angle)} turret=${Math.floor(t.turret_angle)}`}return""}async update(){this.me={angle:(this.tank_angle+this.turret_angle)%360,tank_angle:this.tank_angle,turret_angle:this.turret_angle,id:this.id,x:this.x,y:this.y,hp:this.hp},this.bullet_ts==Number.MAX_VALUE?this.bullet_ts=0:this.bullet_ts++,this.bullets.length>0&&this.update_bullet();let t=!1;for(let e of this.events)switch(e.action){case"shoot":if(this.bullets.length>=5||this.bullet_ts<50)continue;e.progress=1,this.bullet_ts=0;let n={x:this.x,y:this.y,direction:this.tank_angle+this.turret_angle};this.bullets.push(n);continue;case"data":this.data=e.data,e.progress=1;continue;case"yell":0==this.yell_ts&&this.yell(e.msg),e.progress=1;continue;case"turn_turret_left":t||(e.progress++,this.turn_turret(-1),t=!0);continue;case"turn_turret_right":t||(e.progress++,this.turn_turret(1),t=!0);continue}let e=[],n=!1;for(let t of this.events)if(t.progress<t.amount&&(e.push(t),!n))switch(t.action){case"move_forwards":t.progress++,this.move(1),this.status.wall_collide&&(this.action_to_collide=1),n=!0;break;case"move_backwards":t.progress++,this.move(-1),this.status.wall_collide&&(this.action_to_collide=-1),n=!0;break;case"move_opposide":t.progress++,this.move(-this.action_to_collide),this.status.wall_collide&&(this.action_to_collide=-this.action_to_collide),n=!0;break;case"turn_left":t.progress++,this.turn(-1),n=!0;break;case"turn_right":t.progress++,this.turn(1),n=!0}if(this.events=e,!this.is_spot&&this.check_enemy_spot()&&(this.is_spot=!0),!this.waiting_for_response){if(this.is_spot&&!this.just_spotted)return this.is_spot=!1,this.just_spotted=!0,this.send_event("enemy-spot");if(this.is_hit)return this.status.is_hit=!0,this.events=[],this.send_event("hit").then((t=>(this.is_hit=!1,this.just_spotted=!1,t)));if(this.status.wall_collide)return this.events=[],this.send_event("wall-collide").then((t=>(this.just_spotted=!1,t)));if(0==this.events.length)return this.send_event("idle").then((t=>(this.just_spotted=!1,t)))}return!0}checkEvent(t){for(let e in t)if(-1==this.actions.indexOf(e))return"ERROR! '"+e+"' ???";return""}decode(t){let e,n=JSON.parse(t);this.inspect(this.id,this.event_counter,void 0,JSON.stringify(n,null,2));let o=[];e="object"==typeof n?Array.isArray(n)?n:[n]:[];for(let t of e){if("action"in t){o.push(t);continue}let e=this.checkEvent(t);""!=e&&(o.push({action:"yell",msg:e,amount:1}),console.log(e)),"data"in t&&o.push({action:"data",data:t.data,amount:1}),"yell"in t&&o.push({action:"yell",msg:t.yell,amount:1}),"shoot"in t&&t.shoot&&o.push({action:"shoot",amount:1}),"turn_turret_right"in t?o.push({action:"turn_turret_right",amount:t.turn_turret_right}):"turn_turret_left"in t&&o.push({action:"turn_turret_left",amount:t.turn_turret_left}),"move_opposide"in t?o.push({action:"move_opposide",amount:t.move_opposide}):"move_forwards"in t?(o.push({action:"move_forwards",amount:t.move_forwards}),delete t.move_forwards):"move_backwards"in t?(o.push({action:"move_backwards",amount:t.move_backwards}),delete t.move_backwards):"turn_left"in t?(o.push({action:"turn_left",amount:t.turn_left}),delete t.turn_left):"turn_right"in t&&o.push({action:"turn_right",amount:t.turn_right})}return o}}Z.battlefield_width=0,Z.battlefield_height=0;class tt{constructor(t,e,n,o){this.suspended=!0,this.tracing=!0,this.timeout=0,this.duration=-1,this.title="",Z.battlefield_height=e,Z.battlefield_width=t,this.width=t,this.height=e,this.end_battle=n,this.suspend_battle=o,tt.battle=this}init(t,e,n,o){this.duration=n,this.title=t[0].split("/").pop()+" vs "+t[1].split("/").pop();let i=this.height/2,r=this.width/3,s=r,l=0;tt.robots=[];for(let e of t){let t=new Z(s,i,e,o[l],((t,e)=>{this.completed_request(t,e)}),((t,e)=>{this.hit_robot(t,e)}));t.id=l++,tt.robots.push(t),s+=r,l>=2&&(s=Math.random()*(this.width-100+20))}let a=0;for(let t of tt.robots){let n=[];for(let e of tt.robots)e.id!=t.id&&n.push(e);t.init(n,e[a][0],e[a][1]),a++}}robotState(t){return 2!=tt.robots.length?"":tt.robots[t].state()}robotName(t){return 2!=tt.robots.length?"":tt.robots[t].name}completed_request(t,e){e||(this.suspended=!0,this.suspend_battle(t,this.robotState(0),this.robotState(1)))}hit_robot(t,e){tt.explosions.push({x:t,y:e,progress:1})}async loop(){for(let t of tt.robots)t.update().then((e=>{e||(this.stop(),this.end_battle(0==t.id?1:0))}));if(this.draw(),Q.state(this.duration,this.robotState(0),this.robotState(1)),this.duration--,0==this.duration)return this.end_battle(-1),void this.stop();0==tt.explosions.length&&tt.robots.length<=1&&(0==tt.robots.length?this.end_battle(-1):this.end_battle(tt.robots[0].id),this.stop()),this.tracing?this.suspend_battle("Tracing... (suspended)",this.robotState(0),this.robotState(1)):this.suspended||(this.timeout=setTimeout((()=>this.loop()),tt.speed))}draw(){let t=[];for(let e of tt.robots)e.hp>0&&t.push(e);tt.robots=t;for(let t of tt.explosions){let t=tt.explosions.pop();t.progress<=17&&(t.progress+=1,tt.explosions.unshift(t))}}stop(){this.suspended=!0,clearTimeout(this.timeout)}terminate(){this.stop(),this.end_battle(-2)}start(){return this.suspended=!1,this.tracing=!1,this.loop(),this.title}trace(){return this.suspended=!0,this.tracing=!0,this.loop(),this.title}}tt.robots=[],tt.explosions=[],tt.speed=10;const et=[];function nt(e,n=t){let o;const i=[];function s(t){if(r(e,t)&&(e=t,o)){const t=!et.length;for(let t=0;t<i.length;t+=1){const n=i[t];n[1](),et.push(n,e)}if(t){for(let t=0;t<et.length;t+=2)et[t][0](et[t+1]);et.length=0}}}return{set:s,update:function(t){s(t(e))},subscribe:function(r,l=t){const a=[r,l];return i.push(a),1===i.length&&(o=n(s)||t),r(e),()=>{const t=i.indexOf(a);-1!==t&&i.splice(t,1),0===i.length&&(o(),o=null)}}}}const ot=nt([{n:0,req:"",res:"",state:""},{n:0,req:"",res:"",state:""}]),it=nt(""),rt=nt(0),st=nt(void 0);class lt{constructor(t){this.assets={},this.loaded=0,this.total=0,this.sources=t}get(t){return this.assets[t]}loadAll(t){for(let t in this.sources)this.assets[t]=new Image,this.assets[t].src=this.sources[t],++this.total;for(let e in this.assets)this.assets[e].onload=()=>{++this.loaded,this.total==this.loaded&&t()}}}let at=new lt({splash:"img/splash.png",background:"img/background.png",body:"img/body.png","body-red":"img/body-red.png",turret:"img/turret.png","turret-red":"img/turret-red.png","explosion1-1":"img/explosion/explosion1-1.png","explosion1-2":"img/explosion/explosion1-2.png","explosion1-3":"img/explosion/explosion1-3.png","explosion1-4":"img/explosion/explosion1-4.png","explosion1-5":"img/explosion/explosion1-5.png","explosion1-6":"img/explosion/explosion1-6.png","explosion1-7":"img/explosion/explosion1-7.png","explosion1-8":"img/explosion/explosion1-8.png","explosion1-9":"img/explosion/explosion1-9.png","explosion1-10":"img/explosion/explosion1-10.png","explosion1-11":"img/explosion/explosion1-11.png","explosion1-12":"img/explosion/explosion1-12.png","explosion1-13":"img/explosion/explosion1-13.png","explosion1-14":"img/explosion/explosion1-14.png","explosion1-15":"img/explosion/explosion1-15.png","explosion1-16":"img/explosion/explosion1-16.png","explosion1-17":"img/explosion/explosion1-17.png"});function ut(t,e,n,o){ot.update((i=>(void 0!==e&&(i[t].n=e),void 0!==n&&(i[t].req=n),void 0!==o&&(i[t].res=o),i)))}class ct extends tt{constructor(t,e,n,o){super(t,e,n,o),at.loadAll((()=>{}))}webinit(t,e,n,o){this.ctx=t,this.init(e,n,-1,o);for(let t of tt.robots)t.inspect=ut}draw(){this.ctx.drawImage(at.get("background"),0,0,this.width,this.height);let t=[];for(let e of tt.robots){let n=0==e.id?"body":"body-red",o=0==e.id?"turret":"turret-red";if(e.hp<=0){tt.explosions.push({x:e.x,y:e.y,progress:1});continue}t.push(e),this.ctx.save(),this.ctx.translate(e.x,e.y),this.ctx.textAlign="left",this.ctx.textBaseline="top";let i=20,r=20;this.width-e.x<100&&(i=-i,this.ctx.textAlign="right"),this.height-e.y<100&&(r=-r);let s=`${e.hp}/${e.hp_total}`;if(e.is_yell&&e.yell_ts<50?(this.ctx.font="18px Verdana",s=e.yell_msg,e.yell_ts++):(this.ctx.font="14px Courier",e.yell_ts=0,e.is_yell=!1),this.ctx.fillStyle="#FFFFFF",this.ctx.fillText(s,i,r),this.ctx.rotate(U(e.tank_angle)),this.ctx.drawImage(at.get(n),-25,-25,50,50),this.ctx.rotate(U(e.turret_angle)),this.ctx.drawImage(at.get(o),-25,-12.5,50,25),this.ctx.rotate(U(e.radar_angle)),this.ctx.restore(),e.bullets.length>0)for(let t of e.bullets)this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(U(t.direction)),this.ctx.fillStyle="#FFFFFF",this.ctx.fillRect(-3,-3,6,6),this.ctx.restore()}tt.robots=t;for(let t of tt.explosions){let t=tt.explosions.pop();t.progress<=17&&(this.ctx.drawImage(at.get("explosion1-"+t.progress),t.x-64,t.y-64,128,128),t.progress+=1,tt.explosions.unshift(t))}}}function dt(t,e,n){const o=t.slice();return o[59]=e[n],o}function ht(t,e,n){const o=t.slice();return o[64]=e[n],o}function pt(t,e,n){const o=t.slice();return o[59]=e[n],o}function ft(t){let e,n;return{c(){e=d("h1"),n=h(t[2])},m(t,o){a(t,e,o),l(e,n)},p(t,e){4&e[0]&&b(n,t[2])},d(t){t&&u(e)}}}function mt(e){let n,o;return{c(){n=d("img"),w(n,"padding-bottom","20px"),g(n,"alt","banner"),g(n,"width","500"),g(n,"class","center"),n.src!==(o="img/banner.png")&&g(n,"src","img/banner.png")},m(t,e){a(t,n,e)},p:t,d(t){t&&u(n)}}}function gt(t){let e,n,i,r,s,c,y,w,v,x,_,k,q,$,C,S,E,O,z,M,I,R,T,A,F,N,j,P,L,B,J,G,Y,H,V,W,D,U,X,K,Q,Z,tt=t[1].robotName(0)+"",et=t[1].robotName(1)+"";function nt(t,e){return t[9]?wt:yt}let ot=nt(t),it=ot(t),rt=t[5]&&vt(t);return{c(){e=d("div"),n=d("h3"),i=h(t[3]),r=p(),s=d("div"),c=d("h1"),y=d("span"),w=h(tt),v=h(" vs\n          "),x=d("span"),_=h(et),k=p(),q=d("div"),$=d("div"),C=d("br"),S=p(),E=d("button"),it.c(),O=p(),z=d("br"),M=p(),I=d("button"),I.textContent="Stop",R=d("br"),T=p(),A=d("button"),F=h("Edit"),j=p(),P=d("div"),L=d("br"),B=p(),J=d("label"),G=d("input"),Y=h("\n            Debug"),H=d("br"),V=p(),W=d("a"),W.textContent="Logs",D=p(),U=d("br"),X=p(),rt&&rt.c(),K=f(),g(e,"class","row"),g(y,"id","yellow"),g(y,"class","svelte-1fcsikx"),g(x,"id","red"),g(x,"class","svelte-1fcsikx"),g(s,"class","row"),g(E,"id","fight"),g(A,"id","edit"),A.disabled=N=0==t[12].length,g($,"class","column column-left column-offset"),g(G,"type","checkbox"),g(W,"href","https://apigcp.nimbella.io/wb/?command=activation+list"),g(W,"target","workbench"),g(P,"class","column column-right"),g(q,"class","row")},m(o,u){a(o,e,u),l(e,n),l(n,i),a(o,r,u),a(o,s,u),l(s,c),l(c,y),l(y,w),l(c,v),l(c,x),l(x,_),a(o,k,u),a(o,q,u),l(q,$),l($,C),l($,S),l($,E),it.m(E,null),l($,O),l($,z),l($,M),l($,I),l($,R),l($,T),l($,A),l(A,F),l(q,j),l(q,P),l(P,L),l(P,B),l(P,J),l(J,G),G.checked=t[5],l(J,Y),l(J,H),l(J,V),l(J,W),l(J,D),l(P,U),a(o,X,u),rt&&rt.m(o,u),a(o,K,u),Q||(Z=[m(E,"click",t[29]),m(I,"click",t[41]),m(A,"click",t[27]),m(G,"change",t[42])],Q=!0)},p(t,e){8&e[0]&&b(i,t[3]),2&e[0]&&tt!==(tt=t[1].robotName(0)+"")&&b(w,tt),2&e[0]&&et!==(et=t[1].robotName(1)+"")&&b(_,et),ot!==(ot=nt(t))&&(it.d(1),it=ot(t),it&&(it.c(),it.m(E,null))),4096&e[0]&&N!==(N=0==t[12].length)&&(A.disabled=N),32&e[0]&&(G.checked=t[5]),t[5]?rt?rt.p(t,e):(rt=vt(t),rt.c(),rt.m(K.parentNode,K)):rt&&(rt.d(1),rt=null)},d(t){t&&u(e),t&&u(r),t&&u(s),t&&u(k),t&&u(q),it.d(),t&&u(X),rt&&rt.d(t),t&&u(K),Q=!1,o(Z)}}}function bt(t){let e,n,i,r,s,b,w,x,_,k,q,$,C,S,E,O,z,I,R,T,A,F,N,j,P,L,B,J,G,Y,H,V;function W(t,e){return 0==t[12].length?_t:xt}let D=W(t),U=D(t),X=t[17],K=[];for(let e=0;e<X.length;e+=1)K[e]=$t(dt(t,X,e));function Q(t,e){return void 0===t[20]?St:Ct}let Z=Q(t),tt=Z(t);function et(t,e){return void 0===t[20]?Mt:zt}let nt=et(t),ot=nt(t);return{c(){e=d("div"),e.innerHTML="<h3>Make Your Choice</h3>",n=p(),i=d("div"),r=d("div"),s=d("label"),b=h("Filter Yellow Fighters: "),w=d("input"),x=p(),_=d("label"),_.textContent="Yellow Fighter (You)",k=p(),q=d("select"),U.c(),$=p(),C=d("div"),S=d("label"),E=h("Filter Red Fighters: "),O=d("input"),z=p(),I=d("label"),I.textContent="Red Fighter (Enemy)",R=p(),T=d("select");for(let t=0;t<K.length;t+=1)K[t].c();A=p(),F=d("div"),N=d("div"),tt.c(),j=p(),P=d("div"),L=d("button"),B=h("Start the Battle"),G=p(),ot.c(),Y=f(),g(e,"class","row"),g(_,"for","mybot"),g(q,"id","enemy"),void 0===t[7]&&M((()=>t[34].call(q))),g(r,"class","column column-left column-offset"),g(I,"for","enemy"),g(T,"id","enemy"),void 0===t[8]&&M((()=>t[36].call(T))),g(C,"class","column column-right"),g(i,"class","row"),g(N,"class","column column-left column-offset"),g(L,"id","done"),L.disabled=J=!Rt,g(P,"class","column column-right"),g(F,"class","row")},m(o,u){a(o,e,u),a(o,n,u),a(o,i,u),l(i,r),l(r,s),l(s,b),l(s,w),y(w,t[13]),l(r,x),l(r,_),l(r,k),l(r,q),U.m(q,null),v(q,t[7]),l(i,$),l(i,C),l(C,S),l(S,E),l(S,O),y(O,t[14]),l(C,z),l(C,I),l(C,R),l(C,T);for(let t=0;t<K.length;t+=1)K[t].m(T,null);v(T,t[8]),a(o,A,u),a(o,F,u),l(F,N),tt.m(N,null),l(F,j),l(F,P),l(P,L),l(L,B),a(o,G,u),ot.m(o,u),a(o,Y,u),H||(V=[m(w,"input",t[33]),m(w,"input",t[25]),m(q,"change",t[34]),m(O,"input",t[35]),m(O,"input",t[25]),m(T,"change",t[36]),m(L,"click",t[28])],H=!0)},p(t,e){if(8192&e[0]&&w.value!==t[13]&&y(w,t[13]),D===(D=W(t))&&U?U.p(t,e):(U.d(1),U=D(t),U&&(U.c(),U.m(q,null))),98432&e[0]&&v(q,t[7]),16384&e[0]&&O.value!==t[14]&&y(O,t[14]),131072&e[0]){let n;for(X=t[17],n=0;n<X.length;n+=1){const o=dt(t,X,n);K[n]?K[n].p(o,e):(K[n]=$t(o),K[n].c(),K[n].m(T,null))}for(;n<K.length;n+=1)K[n].d(1);K.length=X.length}131328&e[0]&&v(T,t[8]),Z===(Z=Q(t))&&tt?tt.p(t,e):(tt.d(1),tt=Z(t),tt&&(tt.c(),tt.m(N,null))),nt===(nt=et(t))&&ot?ot.p(t,e):(ot.d(1),ot=nt(t),ot&&(ot.c(),ot.m(Y.parentNode,Y)))},d(t){t&&u(e),t&&u(n),t&&u(i),U.d(),c(K,t),t&&u(A),t&&u(F),tt.d(),t&&u(G),ot.d(t),t&&u(Y),H=!1,o(V)}}}function yt(t){let e;return{c(){e=h("Fight!")},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function wt(t){let e;return{c(){e=h("Suspend")},m(t,n){a(t,e,n)},d(t){t&&u(e)}}}function vt(t){let e,n,i,r,s,c,f,y,w,v,x,_,k,q,$,C,S,E,O,z,M,I,R,T,A,F,N,j,P,L,B,J,G,Y,H,V,W,D,U,X,K,Q,Z,tt,et,nt,ot,it,rt,st,lt,at,ut=t[22][0].state+"",ct=t[22][0].n+"",dt=t[22][0].req+"",ht=t[22][0].res+"",pt=t[22][1].state+"",ft=t[22][1].n+"",mt=t[22][1].req+"",gt=t[22][1].res+"";return{c(){e=d("div"),n=d("div"),i=d("button"),i.textContent="Trace",r=p(),s=d("div"),c=h("Trace: \n            "),f=d("label"),y=d("input"),w=h("\n              Events "),v=p(),x=d("label"),_=d("input"),k=h("\n              Requests "),q=p(),$=d("label"),C=d("input"),S=h("\n              Actions "),E=h("\n            (open console)"),O=p(),z=d("div"),M=d("div"),I=d("b"),R=h("[Me] "),T=h(ut),A=d("br"),F=h("\n            Request/"),N=d("b"),N.textContent="Response",j=h("\n            #"),P=h(ct),L=p(),B=d("pre"),J=h(dt),G=d("br"),Y=d("b"),H=h(ht),V=p(),W=d("b"),D=h("[Emeny] "),U=h(pt),X=d("br"),K=h("\n            Request/"),Q=d("b"),Q.textContent="Response",Z=h("\n            #"),tt=h(ft),et=p(),nt=d("pre"),ot=h(mt),it=d("br"),rt=d("b"),st=h(gt),g(i,"id","step"),g(n,"class","column column-left column-offset"),g(y,"type","checkbox"),g(_,"type","checkbox"),g(C,"type","checkbox"),g(s,"class","column column-right"),g(e,"class","row"),g(M,"class","column column-50 column-offset"),g(z,"class","row")},m(o,u){a(o,e,u),l(e,n),l(n,i),l(e,r),l(e,s),l(s,c),l(s,f),l(f,y),y.checked=t[0].eventOn,l(f,w),l(s,v),l(s,x),l(x,_),_.checked=t[0].requestOn,l(x,k),l(s,q),l(s,$),l($,C),C.checked=t[0].actionOn,l($,S),l(s,E),a(o,O,u),a(o,z,u),l(z,M),l(M,I),l(I,R),l(I,T),l(M,A),l(M,F),l(M,N),l(M,j),l(M,P),l(M,L),l(M,B),l(B,J),l(B,G),l(B,Y),l(Y,H),l(M,V),l(M,W),l(W,D),l(W,U),l(M,X),l(M,K),l(M,Q),l(M,Z),l(M,tt),l(M,et),l(M,nt),l(nt,ot),l(nt,it),l(nt,rt),l(rt,st),lt||(at=[m(i,"click",t[26]),m(y,"change",t[43]),m(_,"change",t[44]),m(C,"change",t[45])],lt=!0)},p(t,e){1&e[0]&&(y.checked=t[0].eventOn),1&e[0]&&(_.checked=t[0].requestOn),1&e[0]&&(C.checked=t[0].actionOn),4194304&e[0]&&ut!==(ut=t[22][0].state+"")&&b(T,ut),4194304&e[0]&&ct!==(ct=t[22][0].n+"")&&b(P,ct),4194304&e[0]&&dt!==(dt=t[22][0].req+"")&&b(J,dt),4194304&e[0]&&ht!==(ht=t[22][0].res+"")&&b(H,ht),4194304&e[0]&&pt!==(pt=t[22][1].state+"")&&b(U,pt),4194304&e[0]&&ft!==(ft=t[22][1].n+"")&&b(tt,ft),4194304&e[0]&&mt!==(mt=t[22][1].req+"")&&b(ot,mt),4194304&e[0]&&gt!==(gt=t[22][1].res+"")&&b(st,gt)},d(t){t&&u(e),t&&u(O),t&&u(z),lt=!1,o(at)}}}function xt(t){let e,n=t[16],o=[];for(let e=0;e<n.length;e+=1)o[e]=kt(ht(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=f()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);a(t,e,n)},p(t,i){if(2162688&i[0]){let r;for(n=t[16],r=0;r<n.length;r+=1){const s=ht(t,n,r);o[r]?o[r].p(s,i):(o[r]=kt(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){c(o,t),t&&u(e)}}}function _t(t){let e,n=t[15],o=[];for(let e=0;e<n.length;e+=1)o[e]=qt(pt(t,n,e));return{c(){for(let t=0;t<o.length;t+=1)o[t].c();e=f()},m(t,n){for(let e=0;e<o.length;e+=1)o[e].m(t,n);a(t,e,n)},p(t,i){if(32768&i[0]){let r;for(n=t[15],r=0;r<n.length;r+=1){const s=pt(t,n,r);o[r]?o[r].p(s,i):(o[r]=qt(s),o[r].c(),o[r].m(e.parentNode,e))}for(;r<o.length;r+=1)o[r].d(1);o.length=n.length}},d(t){c(o,t),t&&u(e)}}}function kt(t){let e,n,o,i,r=t[64].split(".")[0]+"",s=t[21]>0?" (+"+t[21]+")":"";return{c(){e=d("option"),n=h(r),o=h(s),e.__value=i=t[64],e.value=e.__value},m(t,i){a(t,e,i),l(e,n),l(e,o)},p(t,l){65536&l[0]&&r!==(r=t[64].split(".")[0]+"")&&b(n,r),2097152&l[0]&&s!==(s=t[21]>0?" (+"+t[21]+")":"")&&b(o,s),65536&l[0]&&i!==(i=t[64])&&(e.__value=i,e.value=e.__value)},d(t){t&&u(e)}}}function qt(t){let e,n,o,i=t[59].name+"";return{c(){e=d("option"),n=h(i),e.__value=o=t[59].url,e.value=e.__value},m(t,o){a(t,e,o),l(e,n)},p(t,r){32768&r[0]&&i!==(i=t[59].name+"")&&b(n,i),32768&r[0]&&o!==(o=t[59].url)&&(e.__value=o,e.value=e.__value)},d(t){t&&u(e)}}}function $t(t){let e,n,o,i=t[59].name+"";return{c(){e=d("option"),n=h(i),e.__value=o=t[59].url,e.value=e.__value},m(t,o){a(t,e,o),l(e,n)},p(t,r){131072&r[0]&&i!==(i=t[59].name+"")&&b(n,i),131072&r[0]&&o!==(o=t[59].url)&&(e.__value=o,e.value=e.__value)},d(t){t&&u(e)}}}function Ct(t){let e,n,o,i,r,s;return{c(){e=d("div"),n=d("button"),o=h("Edit my Fighter"),g(n,"id","edit"),n.disabled=i=0==t[12].length,g(e,"class","column column-right")},m(i,u){a(i,e,u),l(e,n),l(n,o),r||(s=m(n,"click",t[27]),r=!0)},p(t,e){4096&e[0]&&i!==(i=0==t[12].length)&&(n.disabled=i)},d(t){t&&u(e),r=!1,s()}}}function St(t){let e;function n(t,e){return t[19]?Ot:Et}let o=n(t),i=o(t);return{c(){i.c(),e=f()},m(t,n){i.m(t,n),a(t,e,n)},p(t,r){o===(o=n(t))&&i?i.p(t,r):(i.d(1),i=o(t),i&&(i.c(),i.m(e.parentNode,e)))},d(t){i.d(t),t&&u(e)}}}function Et(e){let n,o,i;return{c(){n=d("button"),n.textContent="Login",g(n,"id","login")},m(t,r){a(t,n,r),o||(i=m(n,"click",e[38]),o=!0)},p:t,d(t){t&&u(n),o=!1,i()}}}function Ot(t){let e,n,i,r;return{c(){e=d("form"),n=d("input"),g(n,"type","password"),g(n,"placeholder","password then enter")},m(o,s){var u;a(o,e,s),l(e,n),y(n,t[18]),i||(r=[m(n,"input",t[37]),m(e,"submit",(u=t[23],function(t){return t.preventDefault(),u.call(this,t)}))],i=!0)},p(t,e){262144&e[0]&&n.value!==t[18]&&y(n,t[18])},d(t){t&&u(e),i=!1,o(r)}}}function zt(t){let e,n,i,r,s,c,f,w,x,_,k,q,$,C,S,E,O,z,I,R;return{c(){e=d("div"),n=d("div"),i=d("button"),i.textContent="Create New Fighter",r=p(),s=d("div"),c=d("input"),f=p(),w=d("div"),x=d("div"),x.textContent="Programming Language:",_=p(),k=d("div"),q=d("select"),$=d("option"),$.textContent="JavaScript",C=d("option"),C.textContent="Python",S=d("option"),S.textContent="Golang",E=p(),O=d("h4"),z=h(t[6]),g(i,"id","create"),g(n,"class","column column-left column-offset"),g(c,"type","text"),g(c,"placeholder","robot name"),g(c,"id","botname"),g(s,"class","column column-right"),g(e,"class","row"),g(x,"class","column column-left column-offset"),$.__value="js",$.value=$.__value,C.__value="py",C.value=C.__value,S.__value="go",S.value=S.__value,void 0===t[11]&&M((()=>t[40].call(q))),g(k,"class","column column-right"),g(w,"class","row")},m(o,u){a(o,e,u),l(e,n),l(n,i),l(e,r),l(e,s),l(s,c),y(c,t[10]),a(o,f,u),a(o,w,u),l(w,x),l(w,_),l(w,k),l(k,q),l(q,$),l(q,C),l(q,S),v(q,t[11]),a(o,E,u),a(o,O,u),l(O,z),I||(R=[m(i,"click",t[24]),m(c,"input",t[39]),m(q,"change",t[40])],I=!0)},p(t,e){1024&e[0]&&c.value!==t[10]&&y(c,t[10]),2048&e[0]&&v(q,t[11]),64&e[0]&&b(z,t[6])},d(t){t&&u(e),t&&u(f),t&&u(w),t&&u(E),t&&u(O),I=!1,o(R)}}}function Mt(e){let n,o,i,r,s,c,p,f,m,b,y,w,v;return{c(){n=d("div"),o=d("div"),i=d("h4"),r=h("Welcome to\n              "),s=d("b"),s.textContent="FAAS Wars",c=h("\n              v"),p=h("1.3"),f=h("."),m=d("br"),b=h("Please check the\n              "),y=d("a"),y.textContent="License",w=h("."),v=d("br"),g(y,"href","license.html"),g(o,"class","column column-center column-offset"),g(n,"class","row")},m(t,e){a(t,n,e),l(n,o),l(o,i),l(i,r),l(i,s),l(i,c),l(i,p),l(i,f),l(i,m),l(i,b),l(i,y),l(i,w),l(i,v)},p:t,d(t){t&&u(n)}}}function It(e){let n,o,i,r,s,c;function h(t,e){return""==t[2]?mt:ft}let f=h(e),m=f(e);function b(t,e){return t[4]?gt:bt}let y=b(e),w=y(e);return{c(){n=d("main"),o=d("section"),i=d("div"),m.c(),r=p(),s=d("div"),s.innerHTML='<canvas id="arena" width="500" height="500" class="svelte-1fcsikx"></canvas>',c=p(),w.c(),g(i,"class","row"),g(s,"class","row"),g(o,"class","container"),g(n,"class","wrapper")},m(t,e){a(t,n,e),l(n,o),l(o,i),m.m(i,null),l(o,r),l(o,s),l(o,c),w.m(o,null)},p(t,e){f===(f=h(t))&&m?m.p(t,e):(m.d(1),m=f(t),m&&(m.c(),m.m(i,null))),y===(y=b(t))&&w?w.p(t,e):(w.d(1),w=y(t),w&&(w.c(),w.m(o,null)))},i:t,o:t,d(t){t&&u(n),m.d(),w.d()}}}let Rt=!0,Tt=/^\w{1,60}$/g;function At(t){if(t.ok)return t.json();console.log(t)}function Ft(t,e,n){let o,i,r;s(t,st,(t=>n(20,o=t))),s(t,rt,(t=>n(21,i=t))),s(t,ot,(t=>n(22,r=t)));var l=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function l(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};let a,u,c,{base:d}=e,{apihost:h}=e,{namespace:p}=e,f=void 0===o?"":"Choose opponents",m="Select Opponents",g=!1,b=!1,y="",w=!1,v=!1,_="",k="js",$=[],C=[],S=C,E=C,O="",z="",M=S,I=$,R=E,T={js:d+"/src/JsBot.js",go:d+"/src/GoBot.go",py:d+"/src/PyBot.py"},A="",F=!1;function N(){return l(this,void 0,void 0,(function*(){C=yield async function(){return fetch("https://apigcp.nimbella.io/api/v1/web/nimbots/rumble/public").then((t=>t.json())).catch((t=>[]))}();for(let t=0;t<C.length;t++){let e=C[t];C[t].url=e.url+":"+e.rewards,C[t].name=e.name+(e.rewards>0?" (+"+e.rewards+")":"")}S=Object.assign([],C),S.sort((()=>.5-Math.random())),E=Object.assign([],C),E.sort((()=>.5-Math.random())),void 0!==o&&n(12,$=yield o.list()),j()}))}function j(){n(15,M=S.filter((t=>-1!==t.name.toLowerCase().indexOf(O.toLowerCase())))),n(16,I=$.filter((t=>-1!==t.toLowerCase().indexOf(O.toLowerCase())))),n(17,R=E.filter((t=>-1!==t.name.toLowerCase().indexOf(z.toLowerCase())))),$.length>0?n(7,u=I[0]):n(7,u=M[0].url),n(8,c=R[0].url),console.log("updated",u,c)}let P=it.subscribe((t=>{v=""!=t,N()}));function L(t){n(2,f="Game over"),-2==t?(J="ready",n(6,y="")):-1==t?(J="draw",n(6,y="")):0==t?(J="won",n(6,y="Great!")):(J="lose",n(6,y="")),n(3,m="Select Opponents"),n(4,g=!1),n(9,w=!1),a.stop(),ot.set([{n:0,req:"",res:"",state:""},{n:0,req:"",res:"",state:""}])}function B(t,e,o){n(3,m=t),n(9,w=!1),ot.update((t=>(t[0].state=e,t[1].state=o,t)))}let J=void 0===o?"splash":"ready",G=new lt({splash:"img/splash.png",ready:"img/ready.png",lose:"img/lose.png",won:"img/won.png",draw:"img/draw.png"});function Y(){let t=document.getElementById("arena").getContext("2d");t.clearRect(0,0,500,500),t.drawImage(G.get(J),0,0)}var H;H=()=>{v||g||Y()},q().$$.after_update.push(H),function(t){q().$$.on_mount.push(t)}((()=>{let t=document.getElementById("arena");n(1,a=new ct(parseInt(t.getAttribute("width")),parseInt(t.getAttribute("height")),L,B)),N(),G.loadAll((()=>Y()))})),function(t){q().$$.on_destroy.push(t)}(P);return t.$$set=t=>{"base"in t&&n(30,d=t.base),"apihost"in t&&n(31,h=t.apihost),"namespace"in t&&n(32,p=t.namespace)},[Q,a,f,m,g,b,y,u,c,w,_,k,$,O,z,M,I,R,A,F,o,i,r,function(){n(19,F=!1),""==A&&alert("password cannot be empty"),fetch(d+"/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:A})}).then(At).then((t=>{console.log(t),"error"in t?alert(t.error):"token"in t&&(st.set(new W(h,t.token,p)),window.ow=o,N())})).catch((t=>{console.log(t),alert("Unexpected error - check logs")}))},function(){return l(this,void 0,void 0,(function*(){if(!_.match(Tt))return alert("Invalid Robot Name"),!1;let t;return fetch(T[k]).then((t=>{if(t.ok)return t.text();throw t.statusText})).then((e=>(t=_+"."+k,o.save(t,e,!1)))).then((e=>l(this,void 0,void 0,(function*(){if(console.log(e),"error"in e)throw e.error;return it.set(t),!0})))).catch((t=>(alert(t),!1)))}))},j,function(){n(3,m="Tracing..."),n(9,w=!1),n(2,f=a.trace())},function(){console.log(u),it.set(u),a.stop(),v=!0},function(){console.log("mybot",u),console.log("enemybot",c);let t=0==$.length?u.split(":")[0]:o.namespace+"/default/"+u.split(".")[0],e=0==$.length?parseInt(u.split(":")[1]):i,r=c.split(":")[0],s=parseInt(c.split(":")[1]),l=[(void 0===o?D:h+"/api/v1/web/")+t,D+r],d=document.getElementById("arena"),p=[[360*Math.random(),360*Math.random()],[360*Math.random(),360*Math.random()]],b=[e,s];a.webinit(d.getContext("2d"),l,p,b),n(4,g=!0),n(2,f="May the FAAS be with you!"),n(3,m="Fighting!"),n(9,w=!0),a.draw(),a.start()},function(){n(9,w=!w),w?(n(3,m="Fighting!"),a.start()):(n(3,m="Suspended..."),a.stop())},d,h,p,function(){O=this.value,n(13,O)},function(){u=x(this),n(7,u),n(15,M),n(16,I)},function(){z=this.value,n(14,z)},function(){c=x(this),n(8,c),n(17,R)},function(){A=this.value,n(18,A)},()=>{n(19,F=!0)},function(){_=this.value,n(10,_)},function(){k=x(this),n(11,k)},()=>{n(4,g=!1),n(9,w=!1),a.terminate()},function(){b=this.checked,n(5,b)},function(){Q.eventOn=this.checked,n(0,Q)},function(){Q.requestOn=this.checked,n(0,Q)},function(){Q.actionOn=this.checked,n(0,Q)}]}class Nt extends H{constructor(t){super(),Y(this,t,Ft,It,r,{base:30,apihost:31,namespace:32},[-1,-1,-1])}}function jt(e){let n;return{c(){n=d("div"),g(n,"class","column column-center column-offset")},m(t,e){a(t,n,e),n.innerHTML='\n<h1 id="how-to-code-your-fighter">How to code your fighter</h1>\n<p>This document is a quick recap of the API. You can also <a href="https://nimbella.com/blog/faas-wars-serverless-virtual-robot-competition?utm_source=subdomain&amp;utm_medium=landing&amp;utm_campaign=faaswars">read this tutorial</a>.</p>\n<p>You control your fighter writing a serverless action. <a href="https://github.com/openwhisk-blog/nimbots/tree/master/packages/default">Check here the source code of the sample fighters</a>. You can use the integrated editor to code your fighter but you need to setup an account in Nimbella to play.</p>\n<p>A serverless action is a function, written in either Javascript, Python or Go, that receive as input a json document and returns its answer in json. In each programming language the json is serialized and deserialized first in a data structure appropriate for you programming language. When you create a fighter a suitable example is provided.</p>\n<p>Each fighter will communicate with the action to receive orders. The action is invoked when an event occurr. In response to an event you return a list of orders, in the format described below.</p>\n<p>The fighter has an energy level that starts at 5 and decrease by one each time you are hit. When it reaches <code>0</code> you lose. You lose also if your controlling actions returns an error, so be careful in your coding.</p>\n<h2 id="events">Events</h2>\n<p>The fighter receive a message in the following format:</p>\n<pre><code>{\n  &quot;event&quot;: &quot;idle&quot;,\n  &quot;energy&quot;: 5,\n  &quot;x&quot;: 110,\n  &quot;y&quot;: 240,\n  &quot;angle&quot;: 23\n  &quot;tank_angle&quot;: 232,\n  &quot;turret_angle&quot;: 150,\n  &quot;enemy_spot&quot;: {},\n  &quot;data&quot;: {}\n}</code></pre>\n<ul>\n<li>The <code>event</code> can be:\n<ul>\n<li><code>idle</code>: the fighter has its order queue empty and and asks for new orders</li>\n<li><code>enemy-spot</code>: the fighter has spotted the enemy and can hit him firing</li>\n<li><code>hit</code>: the fighter was hit by an enemy bullet</li>\n<li><code>wall-collide</code>: the fighter collided with a wall</li>\n</ul></li>\n<li><code>x</code> and <code>y</code> are the position in the battlefiel,</li>\n<li><code>tank_angle</code> and <code>turret_angle</code> are the angles of the tank and of the turret in degrees.</li>\n<li><code>angle</code> is the sum of the angle of the turret and the tank, modulo 360</li>\n<li><code>energy</code> is your energy level,</li>\n</ul>\n<p>When the event is <code>enemy_spot</code> there is also the field <code>enemy_spot</code> in this format:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;x&quot;: 291,\n    &quot;y&quot;: 180,\n    &quot;angle&quot;: 23,\n    &quot;distance&quot;: 202,\n    &quot;energy&quot;: 1\n}</code></pre>\n<p>where <code>x</code> and <code>y</code> are the enemy location, <code>angle</code> is the absolute angle to fire him, <code>distance</code> is its distance and <code>energy</code> the enemy energy level.</p>\n<p>Lastly the <code>data</code> field is a field that you can set with your own values with the <code>data</code> command, to save a state for further actions.</p>\n<h2 id="commands">Commands</h2>\n<p>When you receive an event you decide what to do and give orders to the fighter.</p>\n<p>The commands are an array of maps. For example:</p>\n<pre><code>[{\n    &quot;move_forwards&quot;: 50,\n    &quot;shoot&quot;: true\n },\n {\n  &quot;move_backwards&quot;: 50,\n  &quot;turn_turret_right&quot;: 180,\n  &quot;shoot&quot;: true\n}]</code></pre>\n<p>Each map must contains one (and only one) key/value entry describing a sequential action. If you specify more than one sequential action, only one will be executed (and we do not tell you which one, so do not do it!).</p>\n<p>The sequential actions are:</p>\n<ul>\n<li><code>move_forwads: &lt;number&gt;</code>: move forward of the given number of pixels</li>\n<li><code>move_backwards: &lt;number&gt;</code>: move backwards of the given number of pixels</li>\n<li><code>move_opposide: &lt;number&gt;</code>: move in the opposite direction of where you were moving - useful when you hit a wall</li>\n<li><code>turn_left: &lt;number&gt;</code>: turn the tanks to the left of the given angle in degrees</li>\n<li><code>turn_right: &lt;number&gt;</code>: turn the tanks to the right of the given angle in degrees</li>\n</ul>\n<p>For each sequential action you can also specify a parallel action, that is done at the same time as the sequential (that is: the tank can fire and move the turret while it is moving in a given direction)</p>\n<p>The parallel actions are:</p>\n<ul>\n<li><code>turn_turret_left: &lt;number&gt;</code>: turn the turret to the left of the given angle in degrees</li>\n<li><code>turn_turret_right: &lt;number&gt;</code>: turn the turret to the right of the given angle in degrees</li>\n<li><code>shot: true</code>: fires a bullet; note you can fire up to 5 bullets at the same time</li>\n<li><code>yell: &lt;string&gt;</code>: yell a message that will be displayed in the battle field</li>\n</ul>\n'},p:t,i:t,o:t,d(t){t&&u(n)}}}class Pt extends H{constructor(t){super(),Y(this,t,null,jt,r,{})}}function Lt(t){let e,n,i,r,s,c,f,y,v,x,_,k,q,$,C,S,E,O,z,M,I,R,T,A,F,N;return T=new Pt({}),{c(){e=d("main"),n=d("section"),i=d("div"),r=d("iframe"),c=p(),f=d("br"),y=p(),v=d("div"),x=d("div"),_=d("button"),_.textContent="Save",k=h("\n         \n        "),q=d("button"),q.textContent="Cancel",$=h("\n         \n        "),C=d("button"),C.textContent="Delete",S=p(),E=d("div"),O=d("h3"),z=d("tt"),M=h(t[0]),I=p(),R=d("div"),L(T.$$.fragment),g(r,"title","editor"),g(r,"id","editor"),r.src!==(s="editor.html")&&g(r,"src","editor.html"),w(r,"height","500px"),w(r,"width","100%"),g(r,"frameborder","0"),g(r,"scrolling","no"),g(i,"class","row"),g(_,"id","done"),g(q,"id","done"),g(C,"id","done"),g(x,"class","float-left"),g(E,"class","float-right"),g(v,"class","clearfix"),g(R,"class","row"),g(n,"class","container"),g(e,"class","wrapper")},m(o,s){a(o,e,s),l(e,n),l(n,i),l(i,r),l(n,c),l(n,f),l(n,y),l(n,v),l(v,x),l(x,_),l(x,k),l(x,q),l(x,$),l(x,C),l(v,S),l(v,E),l(E,O),l(O,z),l(z,M),l(n,I),l(n,R),B(T,R,null),A=!0,F||(N=[m(r,"load",t[1]),m(_,"click",t[4]),m(q,"click",t[2]),m(C,"click",t[3])],F=!0)},p(t,[e]){(!A||1&e)&&b(M,t[0])},i(t){A||(j(T.$$.fragment,t),A=!0)},o(t){P(T.$$.fragment,t),A=!1},d(t){t&&u(e),J(T),F=!1,o(N)}}}function Bt(t,e,n){let o,i;s(t,it,(t=>n(0,o=t))),s(t,st,(t=>n(6,i=t)));var r=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))((function(i,r){function s(t){try{a(o.next(t))}catch(t){r(t)}}function l(t){try{a(o.throw(t))}catch(t){r(t)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,l)}a((o=o.apply(t,e||[])).next())}))};let l;return[o,function(){return r(this,void 0,void 0,(function*(){l=window.frames[0];let t=o;console.log(t);let e=yield i.load(t);console.log(e),l.setValue(t,e)}))},function(){confirm("Are you sure you want to lose your changes?")&&(l.setValue("",""),it.set(""))},function(){return r(this,void 0,void 0,(function*(){let t=o;t=t.split(".")[0];i.namespace.split("-")[0];confirm("Are you sure you want to delete this Robot?")&&i.del(o).then((()=>{l.setValue("",""),it.set("")}))}))},function(){return r(this,void 0,void 0,(function*(){let t=o;t=o.split(".")[0];let e=i.namespace;e=e.split("-")[0];let n=yield l.getValue();i.save(o,n,!0).then((()=>{it.set("")})),yield function(t,e){let n={key:t,value:e};return fetch("https://apigcp.nimbella.io/api/v1/web/nimbots/rumble/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((t=>t.text())).then((t=>t))}(`${i.namespace}:${o}`,n)}))}]}class Jt extends H{constructor(t){super(),Y(this,t,Bt,Lt,r,{})}}function Gt(e){let n,o;return n=new Jt({}),{c(){L(n.$$.fragment)},m(t,e){B(n,t,e),o=!0},p:t,i(t){o||(j(n.$$.fragment,t),o=!0)},o(t){P(n.$$.fragment,t),o=!1},d(t){J(n,t)}}}function Yt(e){let n,o;return n=new Nt({props:{base:e[2],namespace:e[1],apihost:e[3]}}),{c(){L(n.$$.fragment)},m(t,e){B(n,t,e),o=!0},p:t,i(t){o||(j(n.$$.fragment,t),o=!0)},o(t){P(n.$$.fragment,t),o=!1},d(t){J(n,t)}}}function Ht(t){let e,n,i,r;const s=[Yt,Gt],l=[];function c(t,e){return""==t[0]?0:1}return e=c(t),n=l[e]=s[e](t),{c(){n.c(),i=f()},m(t,n){l[e].m(t,n),a(t,i,n),r=!0},p(t,[r]){let a=e;e=c(t),e===a?l[e].p(t,r):(N={r:0,c:[],p:N},P(l[a],1,1,(()=>{l[a]=null})),N.r||o(N.c),N=N.p,n=l[e],n?n.p(t,r):(n=l[e]=s[e](t),n.c()),j(n,1),n.m(i.parentNode,i))},i(t){r||(j(n),r=!0)},o(t){P(n),r=!1},d(t){l[e].d(t),t&&u(i)}}}function Vt(t,e,n){let o;s(t,it,(t=>n(0,o=t)));let i=new URL(location.href),r=i.pathname.split("/"),l=r[r.length-4];i.pathname=r.slice(0,-1).join("/"),"localhost:5000"==location.host&&(i.port="3233");let a=i.href;i.pathname="";let u=i.href.slice(0,-1);return[o,l,a,u]}return new class extends H{constructor(t){super(),Y(this,t,Vt,Ht,r,{})}}({target:document.body})}();
//# sourceMappingURL=main.js.map
